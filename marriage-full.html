<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å°è¶Šçµå©šé¢è«‡æº–å‚™å®Œæ•´ç‰ˆ</title>
    <style>
        /* åŸºç¤æ¨£å¼ */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, sans-serif;
            background: #f8fafc;
            color: #1f2937;
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        /* æ¨™é ­ */
        .header {
            background: linear-gradient(135deg, #4f46e5, #7c3aed);
            color: white;
            padding: 25px;
            text-align: center;
        }
        .header h1 {
            font-size: 24px;
            font-weight: 800;
            margin-bottom: 10px;
        }
        
        /* èªè¨€é¸æ“‡ */
        .lang-tabs {
            display: inline-flex;
            background: rgba(255,255,255,0.2);
            border-radius: 50px;
            padding: 5px;
            margin-top: 15px;
        }
        .lang-tab {
            padding: 8px 20px;
            border: none;
            background: transparent;
            color: rgba(255,255,255,0.8);
            font-weight: 600;
            border-radius: 50px;
            cursor: pointer;
        }
        .lang-tab.active {
            background: white;
            color: #4f46e5;
        }
        
        /* è§’è‰²é¸æ“‡ */
        .role-selector {
            padding: 25px;
        }
        .roles {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 15px;
        }
        @media (max-width: 600px) {
            .roles { grid-template-columns: 1fr; }
        }
        .role-card {
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 16px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        .role-card:hover, .role-card.selected {
            border-color: #4f46e5;
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(79,70,229,0.15);
        }
        .role-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: bold;
            margin: 0 auto 15px;
        }
        .groom .role-icon { background: #dbeafe; color: #1d4ed8; }
        .bride .role-icon { background: #fce7f3; color: #be185d; }
        .role-card h3 {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 5px;
        }
        .role-card p {
            font-size: 14px;
            color: #6b7280;
        }
        
        /* é¢è«‡ä¸»ç•Œé¢ */
        .interview-container {
            padding: 20px;
        }
        
        /* é€²åº¦æ¢ */
        .progress-section {
            margin-bottom: 25px;
        }
        .progress-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        .progress-text {
            background: #4f46e5;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
        }
        .progress-percent {
            font-size: 14px;
            color: #6b7280;
            font-weight: 600;
        }
        .progress-bar {
            height: 8px;
            background: #e5e7eb;
            border-radius: 4px;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4f46e5, #7c3aed);
            transition: width 0.5s ease;
        }
        
        /* å•é¡Œå¡ç‰‡ */
        .question-card {
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 25px;
        }
        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }
        .question-category {
            background: #f3f4f6;
            color: #4f46e5;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 700;
            display: inline-block;
            margin-bottom: 10px;
        }
        .question-text {
            font-size: 20px;
            font-weight: 700;
            color: #1f2937;
            line-height: 1.4;
            flex: 1;
        }
        .hint-btn {
            background: #e0e7ff;
            border: none;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: #4f46e5;
            margin-left: 10px;
            flex-shrink: 0;
        }
        .hint-box {
            background: #f0f9ff;
            border-left: 4px solid #3b82f6;
            border-radius: 12px;
            padding: 15px;
            margin-top: 15px;
            display: none;
        }
        .hint-box.show {
            display: block;
            animation: fadeIn 0.3s ease;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* ç­”æ¡ˆå€åŸŸ */
        .answers-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }
        @media (min-width: 768px) {
            .answers-grid { grid-template-columns: 1fr 1fr; }
        }
        .answer-box {
            border-radius: 16px;
            padding: 20px;
            position: relative;
        }
        .answer-box.male {
            background: #eff6ff;
            border: 2px solid #3b82f6;
        }
        .answer-box.female {
            background: #fdf2f8;
            border: 2px solid #ec4899;
        }
        .answer-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }
        .answer-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 18px;
            margin-right: 12px;
            color: white;
        }
        .answer-box.male .answer-icon { background: #3b82f6; }
        .answer-box.female .answer-icon { background: #ec4899; }
        .answer-title {
            font-weight: 700;
            font-size: 16px;
        }
        .answer-box.male .answer-title { color: #1e40af; }
        .answer-box.female .answer-title { color: #be185d; }
        .answer-textarea {
            width: 100%;
            min-height: 120px;
            padding: 15px;
            border: 1px solid rgba(0,0,0,0.1);
            border-radius: 12px;
            font-size: 16px;
            font-family: inherit;
            resize: vertical;
            background: rgba(255,255,255,0.7);
        }
        .answer-textarea:focus {
            outline: none;
            border-color: currentColor;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }
        .answer-status {
            font-size: 13px;
            color: #6b7280;
            margin-top: 8px;
            display: flex;
            justify-content: space-between;
        }
        .save-indicator {
            color: #10b981;
            font-weight: 600;
        }
        
        /* å°èˆªæŒ‰éˆ• */
        .nav-buttons {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }
        .nav-btn {
            flex: 1;
            padding: 18px;
            border-radius: 16px;
            font-weight: 700;
            font-size: 16px;
            cursor: pointer;
            border: none;
            transition: all 0.3s;
        }
        .nav-btn.prev {
            background: white;
            border: 2px solid #e5e7eb;
            color: #6b7280;
        }
        .nav-btn.next {
            background: linear-gradient(135deg, #4f46e5, #7c3aed);
            color: white;
            box-shadow: 0 6px 20px rgba(79, 70, 229, 0.3);
        }
        .nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        .nav-btn:active:not(:disabled) {
            transform: scale(0.98);
        }
        
        /* åº•éƒ¨é¸å–® */
        .bottom-menu {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            border-top: 1px solid #e5e7eb;
            padding: 15px 20px;
            display: flex;
            justify-content: space-around;
            box-shadow: 0 -5px 20px rgba(0,0,0,0.1);
        }
        .menu-btn {
            background: none;
            border: none;
            padding: 10px 15px;
            border-radius: 12px;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
            color: #6b7280;
            font-size: 12px;
            transition: all 0.3s;
        }
        .menu-btn.active {
            color: #4f46e5;
            background: #e0e7ff;
        }
        .menu-icon {
            font-size: 20px;
        }
        
        /* å·¥å…·åˆ— */
        .toolbar {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        .tool-btn {
            padding: 10px 20px;
            border-radius: 12px;
            border: 2px solid #e5e7eb;
            background: white;
            color: #6b7280;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        .tool-btn:hover {
            border-color: #4f46e5;
            color: #4f46e5;
        }
        
        /* éš±è—é¡ */
        .hidden {
            display: none !important;
        }
        
        /* å•é¡Œåˆ—è¡¨ */
        .question-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(40px, 1fr));
            gap: 8px;
            margin-top: 20px;
        }
        .q-number {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid #e5e7eb;
            background: white;
        }
        .q-number.current {
            background: #4f46e5;
            color: white;
            border-color: #4f46e5;
            transform: scale(1.1);
        }
        .q-number.answered {
            background: #10b981;
            color: white;
            border-color: #10b981;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- æ¨™é ­ -->
        <div class="header">
            <h1 id="app-title">å°è¶Šçµå©šé¢è«‡æº–å‚™å·¥å…·</h1>
            <div class="lang-tabs">
                <button class="lang-tab active" onclick="setLanguage('zh')">ä¸­æ–‡</button>
                <button class="lang-tab" onclick="setLanguage('vi')">Tiáº¿ng Viá»‡t</button>
            </div>
        </div>
        
        <!-- ä¸»å…§å®¹å€ -->
        <div id="main-content">
            <!-- è§’è‰²é¸æ“‡ -->
            <div id="role-screen" class="role-selector">
                <h2 style="text-align: center; margin-bottom: 20px; color: #4b5563;" id="role-title">é¸æ“‡æ‚¨çš„è§’è‰²é–‹å§‹</h2>
                <div class="roles">
                    <div class="role-card groom" onclick="selectRole('groom')">
                        <div class="role-icon">â™‚</div>
                        <h3 id="groom-title">æˆ‘æ˜¯æ–°éƒ (å°ç£ç±)</h3>
                        <p id="groom-desc">è² è²¬å¡«å¯«ç”·æ–¹è³‡è¨Š</p>
                    </div>
                    <div class="role-card bride" onclick="selectRole('bride')">
                        <div class="role-icon">â™€</div>
                        <h3 id="bride-title">æˆ‘æ˜¯æ–°å¨˜ (è¶Šå—ç±)</h3>
                        <p id="bride-desc">è² è²¬å¡«å¯«å¥³æ–¹è³‡è¨Š</p>
                    </div>
                </div>
                
                <!-- è¼‰å…¥é€²åº¦æç¤º -->
                <div style="text-align: center; margin-top: 30px; color: #6b7280; font-size: 14px;" id="progress-info">
                    é»æ“Šä¸Šæ–¹è§’è‰²é–‹å§‹
                </div>
            </div>
            
            <!-- é¢è«‡ç•Œé¢ -->
            <div id="interview-screen" class="interview-container hidden">
                <div id="interview-content">
                    <!-- å‹•æ…‹è¼‰å…¥ -->
                </div>
            </div>
        </div>
    </div>
    
    <!-- åº•éƒ¨é¸å–® -->
    <div class="bottom-menu hidden" id="bottom-menu">
        <button class="menu-btn" onclick="showQuestionList()">
            <span class="menu-icon">ğŸ“‹</span>
            <span id="menu-list">å•é¡Œåˆ—è¡¨</span>
        </button>
        <button class="menu-btn" onclick="exportData()">
            <span class="menu-icon">ğŸ’¾</span>
            <span id="menu-export">åŒ¯å‡ºè³‡æ–™</span>
        </button>
        <button class="menu-btn" onclick="showSettings()">
            <span class="menu-icon">âš™ï¸</span>
            <span id="menu-settings">è¨­å®š</span>
        </button>
        <button class="menu-btn" onclick="backToRole()">
            <span class="menu-icon">ğŸ‘¤</span>
            <span id="menu-role">åˆ‡æ›è§’è‰²</span>
        </button>
    </div>

    <script>
        // ==================== æ ¸å¿ƒè®Šæ•¸ ====================
        let currentLang = 'zh';
        let currentRole = null;
        let currentQIndex = 0;
        let answers = {};
        let allQuestions = [];
        
        // ==================== ç¿»è­¯è³‡æ–™ ====================
        const translations = {
            zh: {
                appTitle: 'å°è¶Šçµå©šé¢è«‡æº–å‚™å·¥å…·',
                roleTitle: 'é¸æ“‡æ‚¨çš„è§’è‰²é–‹å§‹',
                groomTitle: 'æˆ‘æ˜¯æ–°éƒ (å°ç£ç±)',
                groomDesc: 'è² è²¬å¡«å¯«ç”·æ–¹è³‡è¨Š',
                brideTitle: 'æˆ‘æ˜¯æ–°å¨˜ (è¶Šå—ç±)',
                brideDesc: 'è² è²¬å¡«å¯«å¥³æ–¹è³‡è¨Š',
                progressInfo: 'é»æ“Šä¸Šæ–¹è§’è‰²é–‹å§‹',
                question: 'å•é¡Œ',
                of: '/',
                progress: 'é€²åº¦',
                category: 'é¡åˆ¥',
                hint: 'æç¤º',
                maleAnswer: 'ç”·æ–¹æ–‡å­—å›ç­”',
                femaleAnswer: 'å¥³æ–¹æ–‡å­—å›ç­”',
                malePlaceholder: 'æ–°éƒè«‹å¡«å¯«ç­”æ¡ˆ...',
                femalePlaceholder: 'æ–°å¨˜è«‹å¡«å¯«ç­”æ¡ˆ...',
                prevBtn: 'ä¸Šä¸€é¡Œ',
                nextBtn: 'ä¸‹ä¸€é¡Œ',
                saveIndicator: 'å·²å„²å­˜',
                menuList: 'å•é¡Œåˆ—è¡¨',
                menuExport: 'åŒ¯å‡ºè³‡æ–™',
                menuSettings: 'è¨­å®š',
                menuRole: 'åˆ‡æ›è§’è‰²',
                exportSuccess: 'å·²è¤‡è£½åˆ°å‰ªè²¼ç°¿ï¼',
                exportError: 'è«‹å…ˆå¡«å¯«ä¸€äº›ç­”æ¡ˆ',
                resetConfirm: 'ç¢ºå®šè¦é‡ç½®æ‰€æœ‰ç­”æ¡ˆå—ï¼Ÿ'
            },
            vi: {
                appTitle: 'CÃ´ng cá»¥ chuáº©n bá»‹ phá»ng váº¥n káº¿t hÃ´n ÄÃ i-Viá»‡t',
                roleTitle: 'Chá»n vai trÃ² cá»§a báº¡n Ä‘á»ƒ báº¯t Ä‘áº§u',
                groomTitle: 'TÃ´i lÃ  ChÃº rá»ƒ (ÄÃ i Loan)',
                groomDesc: 'Chá»‹u trÃ¡ch nhiá»‡m Ä‘iá»n thÃ´ng tin cá»§a nam',
                brideTitle: 'TÃ´i lÃ  CÃ´ dÃ¢u (Viá»‡t Nam)',
                brideDesc: 'Chá»‹u trÃ¡ch nhiá»‡m Ä‘iá»n thÃ´ng tin cá»§a ná»¯',
                progressInfo: 'Nháº¥p vÃ o vai trÃ² á»Ÿ trÃªn Ä‘á»ƒ báº¯t Ä‘áº§u',
                question: 'CÃ¢u há»i',
                of: '/',
                progress: 'Tiáº¿n Ä‘á»™',
                category: 'Danh má»¥c',
                hint: 'Gá»£i Ã½',
                maleAnswer: 'CÃ¢u tráº£ lá»i cá»§a Nam',
                femaleAnswer: 'CÃ¢u tráº£ lá»i cá»§a Ná»¯',
                malePlaceholder: 'ChÃº rá»ƒ vui lÃ²ng Ä‘iá»n cÃ¢u tráº£ lá»i...',
                femalePlaceholder: 'CÃ´ dÃ¢u vui lÃ²ng Ä‘iá»n cÃ¢u tráº£ lá»i...',
                prevBtn: 'CÃ¢u trÆ°á»›c',
                nextBtn: 'CÃ¢u sau',
                saveIndicator: 'ÄÃ£ lÆ°u',
                menuList: 'Danh sÃ¡ch cÃ¢u há»i',
                menuExport: 'Xuáº¥t dá»¯ liá»‡u',
                menuSettings: 'CÃ i Ä‘áº·t',
                menuRole: 'Chuyá»ƒn vai trÃ²',
                exportSuccess: 'ÄÃ£ sao chÃ©p vÃ o clipboard!',
                exportError: 'Vui lÃ²ng Ä‘iá»n má»™t sá»‘ cÃ¢u tráº£ lá»i trÆ°á»›c',
                resetConfirm: 'Báº¡n cÃ³ cháº¯c cháº¯n muá»‘n Ä‘áº·t láº¡i táº¥t cáº£ cÃ¢u tráº£ lá»i?'
            }
        };
        
  // ==================== é¢è«‡å•é¡Œè³‡æ–™ ====================
const questionData = [
    // 1-10: åŸºç¤å•é¡Œ
    { id: 1, category: 'èªè­˜ç¶“é', zh: 'ä½ å€‘æ€éº¼èªè­˜ï¼Ÿ', vi: 'Hai ngÆ°á»i quen nhau trong hoÃ n cáº£nh nÃ o?',
      hint: { zh: 'è«‹èªªæ¸…æ¥šåœ¨å“ªè£¡èªè­˜ï¼Ÿåœ¨å°ç£é‚„æ˜¯åœ¨è¶Šå—ï¼Ÿåªæœ‰ä½ å€‘å…©å€‹äººé‚„æ˜¯æœ‰æœ‹å‹ï¼Ÿ', 
              vi: 'NÃ³i rÃµ Ä‘á»‹a Ä‘iá»ƒm, thá»i gian, Ä‘i má»™t mÃ¬nh hay cÃ¹ng vá»›i báº¡n bÃ¨ - ngÆ°á»i thÃ¢n, táº¡i ÄÃ i Loan hay Viá»‡t Nam?' } },
    { id: 2, category: 'èªè­˜ç¶“é', zh: 'ä½ å€‘èªè­˜å¤šä¹…æ‰äº¤å¾€ï¼Ÿ', vi: 'Hai ngÆ°á»i quen nhau bao lÃ¢u thÃ¬ yÃªu?',
      hint: { zh: 'é¢è«‡å®˜æœƒæŸ¥æ ¸äº¤å¾€çš„æ™‚é–“é»æ˜¯å¦åˆç†ã€‚', vi: 'NgÆ°á»i phá»ng váº¥n sáº½ kiá»ƒm tra xem má»‘c thá»i gian háº¹n hÃ² cÃ³ há»£p lÃ½ khÃ´ng.' } },
    { id: 3, category: 'åŸºæœ¬è³‡æ–™', zh: 'ä½ è€å…¬/è€å©†ä»€éº¼æ™‚å€™å‡ºç”Ÿï¼Ÿ', vi: 'NgÃ y thÃ¡ng nÄƒm sinh cá»§a chá»“ng/vá»£?',
      hint: { zh: 'è«‹å‹™å¿…è¨˜ä½å°æ–¹çš„æ­£ç¢ºå‡ºç”Ÿå¹´æœˆæ—¥ã€‚', vi: 'HÃ£y cháº¯c cháº¯n nhá»› Ä‘Ãºng ngÃ y thÃ¡ng nÄƒm sinh cá»§a Ä‘á»‘i phÆ°Æ¡ng.' } },
    { id: 4, category: 'ç¶“æ¿Ÿç‹€æ³', zh: 'æ–°å¨˜ç›®å‰å¾äº‹ä»€éº¼å·¥ä½œï¼Ÿ', vi: 'Vá»£ báº¡n hiá»‡n Ä‘ang lÃ m cÃ´ng viá»‡c gÃ¬?' },
    { id: 5, category: 'å®¶åº­èƒŒæ™¯', zh: 'æ–°å¨˜æœ‰å¹¾å€‹å°å­©ï¼Ÿ', vi: 'CÃ´ dÃ¢u cÃ³ máº¥y ngÆ°á»i con?',
      hint: { zh: 'è«‹èª å¯¦èªªæ˜ï¼ŒåŒ…å«èˆ‡å‰å¤«æ‰€ç”Ÿçš„å°å­©ã€‚', vi: 'HÃ£y tráº£ lá»i trung thá»±c, bao gá»“m cáº£ con vá»›i chá»“ng trÆ°á»›c.' } },
    { id: 6, category: 'å®¶åº­èƒŒæ™¯', zh: 'çˆ¶æ¯æ˜¯å¦æ”¯æŒé€™é–€è¦ªäº‹ï¼Ÿæ˜¯å¦æœ‰é€éè¦–è¨Šè¦‹éé¢ï¼Ÿ', vi: 'Bá»‘ máº¹ cÃ³ á»§ng há»™ cuá»™c hÃ´n nhÃ¢n nÃ y khÃ´ng? Hai bÃªn gia Ä‘Ã¬nh Ä‘Ã£ gáº·p nhau qua video call chÆ°a?' },
    { id: 7, category: 'å®¶åº­èƒŒæ™¯', zh: 'é…å¶å®¶ä¸­ä¸»è¦æ˜¯èª°åœ¨åšæ±ºå®šï¼Ÿ', vi: 'Ai lÃ  ngÆ°á»i Ä‘Æ°a ra quyáº¿t Ä‘á»‹nh chÃ­nh trong gia Ä‘Ã¬nh cá»§a chá»“ng/vá»£ báº¡n?' },
    { id: 8, category: 'å®¶åº­èƒŒæ™¯', zh: 'ä½ çš„å…¬å©†/å²³çˆ¶æ¯æœ‰ä»€éº¼èˆˆè¶£æ„›å¥½æˆ–æ€§æ ¼ç‰¹é»ï¼Ÿ', vi: 'Bá»‘ máº¹ chá»“ng/vá»£ báº¡n cÃ³ sá»Ÿ thÃ­ch hoáº·c Ä‘áº·c Ä‘iá»ƒm tÃ­nh cÃ¡ch gÃ¬?' },
    { id: 9, category: 'ç¶“æ¿Ÿç‹€æ³', zh: 'ä½ è€å…¬åœ¨åšä»€éº¼å·¥ä½œï¼Ÿåœ¨å“ªè£¡å·¥ä½œï¼Ÿä¸€å€‹æœˆè³ºå¤šå°‘éŒ¢ï¼Ÿ', vi: 'Chá»“ng báº¡n á»Ÿ ÄÃ i Loan lÃ m nghá» gÃ¬? LÃ m viá»‡c á»Ÿ Ä‘Ã¢u? Thu nháº­p bÃ¬nh quÃ¢n 1 thÃ¡ng lÃ  bao nhiÃªu?' },
    { id: 10, category: 'ç¶“æ¿Ÿç‹€æ³', zh: 'è€å…¬æœ‰æ²’æœ‰çµ¦ä½ ç”Ÿæ´»è²»ï¼Ÿæ¯æ¬¡çµ¦å¤šå°‘éŒ¢ï¼Ÿ', vi: 'á» ÄÃ i Loan chá»“ng cÃ³ cho báº¡n tiá»n khÃ´ng? Má»—i láº§n cho bao nhiÃªu?' },
    
    // 11-20: å®¶åº­èˆ‡ç¶“æ¿Ÿ
    { id: 11, category: 'å®¶åº­èƒŒæ™¯', zh: 'ä½ è€å…¬/è€å©†çš„çˆ¸çˆ¸åª½åª½å¹¾æ­²ï¼Ÿç¾åœ¨é‚„ä¸Šç­é‚„æ˜¯ä¼‘æ¯äº†ï¼Ÿ', vi: 'Bá»‘ máº¹ chá»“ng/vá»£ bao nhiÃªu tuá»•i? CÃ²n Ä‘i lÃ m khÃ´ng hay nghá»‰ hÆ°u rá»“i?' },
    { id: 12, category: 'å®¶åº­èƒŒæ™¯', zh: 'ä½ è€å…¬/è€å©†æœ‰å¹¾å€‹å…„å¼Ÿå§Šå¦¹ï¼Ÿä»–å€‘ä»Šå¹´å¹¾æ­²ï¼Ÿåšä»€éº¼å·¥ä½œï¼Ÿ', vi: 'Chá»“ng/vá»£ báº¡n cÃ³ máº¥y anh chá»‹ em? NÄƒm nay bao nhiÃªu tuá»•i? LÃ m nghá» gÃ¬?' },
    { id: 13, category: 'äº¤å¾€ç´°ç¯€', zh: 'ä½ è€å©†å»å°ç£å¹¾æ¬¡ï¼Ÿä»€éº¼æ™‚å€™å»ï¼Ÿä»€éº¼æ™‚å€™å›åœ‹ï¼Ÿ', vi: 'Vá»£ Ä‘i ÄÃ i Loan máº¥y láº§n? NgÃ y nÃ o? Vá»£ vá» nÆ°á»›c ngÃ y thÃ¡ng nÄƒm nÃ o?' },
    { id: 14, category: 'äº¤å¾€ç´°ç¯€', zh: 'åœ¨å°ç£èªè­˜æ™‚ï¼Œä½ è€å…¬æœ‰æ²’æœ‰è²·ç¦®ç‰©é€çµ¦ä½ ï¼Ÿ', vi: 'Trong thá»i gian quen nhau á»Ÿ ÄÃ i Loan, chá»“ng cÃ³ mua gÃ¬ táº·ng báº¡n khÃ´ng?' },
    { id: 15, category: 'åŸºæœ¬è³‡æ–™', zh: 'è€å…¬å®¶åœ¨å“ªè£¡ï¼Ÿ', vi: 'Äá»‹a chá»‰ nhÃ  chá»“ng á»Ÿ Ä‘Ã¢u?' },
    { id: 16, category: 'å©šç¦®å„€å¼', zh: 'ä½ å€‘è«‹å®¢äº†æ²’ï¼Ÿåœ¨å“ªè£¡ï¼Ÿä»€éº¼æ™‚å€™ï¼Ÿè«‹å¹¾æ¡Œï¼Ÿ', vi: 'Hai ngÆ°á»i tá»• chá»©c Ä‘Ã¡m cÆ°á»›i chÆ°a? NÃ³i rÃµ á»Ÿ Ä‘Ã¢u, ngÃ y/thÃ¡ng/nÄƒm nÃ o, má»i máº¥y ngÃ y, lÃ m bao nhiÃªu mÃ¢m?' },
    { id: 17, category: 'å©šç¦®å„€å¼', zh: 'å©šå®´èœè‰²æœ‰å“ªäº›ï¼Ÿæ¯æ¡Œæœ‰ä»€éº¼èœï¼Ÿ', vi: 'MÃ¢m cá»— gá»“m nhá»¯ng mÃ³n gÃ¬? Má»—i bÃ n cÃ³ nhá»¯ng mÃ³n gÃ¬?' },
    { id: 18, category: 'å©šç¦®å„€å¼', zh: 'è€å…¬æœ‰æ²’æœ‰çµ¦ä½ éŒ¢ç”¨ä¾†è«‹å®¢ï¼Ÿæœ‰æ²’æœ‰ç…§å©šç´—ç…§ï¼Ÿä»€éº¼æ™‚å€™è¨‚å©šï¼Ÿ', vi: 'Chá»“ng báº¡n cÃ³ Ä‘Æ°a tiá»n Ä‘á»ƒ lÃ m cá»— khÃ´ng? ÄÃ£ chá»¥p áº£nh cÆ°á»›i chÆ°a? LÃ m lá»… Ä‘Ã­nh hÃ´n khi nÃ o?' },
    { id: 19, category: 'å©šç¦®å„€å¼', zh: 'çµå©šæ™‚æœ‰é€æˆ’æŒ‡ã€é …éŠã€æ‰‹é²å—ï¼Ÿè˜é‡‘æ˜¯å¤šå°‘ï¼Ÿçµ¦èª°æ”¶ï¼Ÿ', vi: 'Khi cÆ°á»›i cÃ³ táº·ng nháº«n, dÃ¢y chuyá»n, vÃ²ng tay khÃ´ng? Tiá»n thÃ¡ch cÆ°á»›i lÃ  bao nhiÃªu? Bá»‘ hay máº¹ vá»£ nháº­n?' },
    { id: 20, category: 'æ³•å¾‹ç›¸é—œ', zh: 'ä½ è‡ªå·±è¾¦æ‰‹çºŒé‚„æ˜¯å§”è¨—æŸå®¶å…¬å¸ï¼Ÿ', vi: 'Báº¡n tá»± lÃ m thá»§ tá»¥c hay nhá» cÃ´ng ty nÃ o Ä‘Ã³?' },
    
    // 21-30: äº¤å¾€èˆ‡å®¶åº­äº’å‹•
    { id: 21, category: 'å®¶åº­èƒŒæ™¯', zh: 'åœ¨å°ç£æ™‚ï¼Œä½ è€å…¬å·²ç¶“å¸¶ä½ å›ä»–å®¶å¹¾æ¬¡ï¼Ÿè¦‹éè€å…¬çš„å®¶å±¬å—ï¼Ÿ', vi: 'Trong thá»i gian á»Ÿ ÄÃ i Loan, chá»“ng Ä‘Æ°a báº¡n vá» nhÃ  máº¥y láº§n? CÃ³ gáº·p bá»‘, máº¹, anh/chá»‹ em chá»“ng khÃ´ng?' },
    { id: 22, category: 'äº¤å¾€ç´°ç¯€', zh: 'ä½ æœ‰æ²’æœ‰åœ¨ä»–å®¶åƒé£¯ï¼Ÿèª°åšé£¯ï¼Ÿåƒä»€éº¼èœï¼Ÿ', vi: 'Báº¡n cÃ³ á»Ÿ láº¡i Äƒn cÆ¡m cÃ¹ng gia Ä‘Ã¬nh chá»“ng khÃ´ng? Ai náº¥u cÆ¡m? CÆ¡m cÃ³ nhá»¯ng mÃ³n gÃ¬?' },
    { id: 23, category: 'äº¤å¾€ç´°ç¯€', zh: 'ä½ å¸¸å¸¸ç•™åœ¨è€å…¬å®¶å—ï¼Ÿæ€éº¼å»ï¼ŸèŠ±å¤šå°‘éŒ¢ï¼Ÿ', vi: 'Báº¡n cÃ³ thÆ°á»ng xuyÃªn á»Ÿ láº¡i nhÃ  chá»“ng khÃ´ng? Chá»“ng Ä‘áº¿n Ä‘Ã³n hay báº¡n tá»± Ä‘áº¿n? (Báº±ng phÆ°Æ¡ng tiá»‡n nÃ o?) Háº¿t bao nhiÃªu tiá»n?' },
    { id: 24, category: 'åŸºæœ¬è³‡æ–™', zh: 'è€å…¬å®¶æœ‰å¹¾å±¤ï¼Ÿèª°ä½åœ¨å“ªå±¤ï¼Ÿå‰é¢æœ‰æ²’æœ‰ç¨®æ¨¹ï¼Ÿ', vi: 'NhÃ  chá»“ng cÃ³ máº¥y táº§ng? (NÃ³i rÃµ tá»«ng ngÆ°á»i á»Ÿ tá»«ng táº§ng). TrÆ°á»›c cá»­a nhÃ  chá»“ng cÃ³ cÃ¢y gÃ¬ khÃ´ng?' },
    { id: 25, category: 'äº¤å¾€ç´°ç¯€', zh: 'ç¬¬ä¸€æ¬¡åœ¨å“ªè£¡ä¸€èµ·ç¡è¦ºï¼Ÿ', vi: 'Láº§n Ä‘áº§u tiÃªn hai ngÆ°á»i phÃ¡t sinh quan há»‡ á»Ÿ Ä‘Ã¢u?' },
    { id: 26, category: 'äº¤å¾€ç´°ç¯€', zh: 'ä½ é€šå¸¸å¹¾é»èµ·åºŠï¼Ÿèµ·åºŠå¾Œå¸¸åšä»€éº¼ï¼Ÿ', vi: 'Báº¡n thÆ°á»ng thá»©c dáº­y lÃºc máº¥y giá»? Sau Ä‘Ã³ lÃ m gÃ¬?' },
    { id: 27, category: 'äº¤å¾€ç´°ç¯€', zh: 'ä½ è€å…¬åˆ°è¶Šå—å¹¾æ¬¡äº†ï¼Ÿä¸€å€‹äººå»é‚„æ˜¯è·Ÿèª°å»ï¼Ÿ', vi: 'Chá»“ng báº¡n Ä‘áº¿n Viá»‡t Nam máº¥y láº§n rá»“i? Äi má»™t mÃ¬nh hay Ä‘i cÃ¹ng ai?' },
    { id: 28, category: 'ç¶“æ¿Ÿç‹€æ³', zh: 'é£›æ©Ÿç¥¨å¤šå°‘éŒ¢ï¼Ÿè‡ªå·±è²·é‚„æ˜¯æ‰˜åˆ¥äººè²·ï¼Ÿ', vi: 'Tiá»n vÃ© mÃ¡y bay háº¿t bao nhiÃªu? Tá»± mua hay nhá» mua giÃºp?' },
    { id: 29, category: 'äº¤å¾€ç´°ç¯€', zh: 'æ¯æ¬¡æ˜¯èª°ä¾†æ¥ä»–ï¼Ÿæ¥å¥½äº†å›è€å©†å®¶é‚„æ˜¯å»å“ªè£¡ï¼Ÿæ€éº¼å»ï¼Ÿ', vi: 'Má»—i láº§n Ä‘áº¿n sÃ¢n bay ai ra Ä‘Ã³n? Tá»« sÃ¢n bay vá» tháº³ng nhÃ  vá»£ hay Ä‘i Ä‘Ã¢u? ThuÃª xe hay Ä‘i xe bus? Háº¿t bao nhiÃªu tiá»n?' },
    { id: 30, category: 'å®¶åº­èƒŒæ™¯', zh: 'æ¯æ¬¡åˆ°è¶Šå—ï¼Œè€å…¬è²·ä»€éº¼æ±è¥¿é€çµ¦ä½ çˆ¶æ¯ï¼Ÿ', vi: 'Má»—i láº§n Ä‘áº¿n Viá»‡t Nam chá»“ng cÃ³ mua gÃ¬ táº·ng nhÃ  vá»£ khÃ´ng?' },
    
    // 31-40: ç¶“æ¿Ÿèˆ‡ç”Ÿæ´»ç´°ç¯€
    { id: 31, category: 'ç¶“æ¿Ÿç‹€æ³', zh: 'æ¯æ¬¡åˆ°è¶Šå—ï¼Œè€å…¬çµ¦ä½ å¤šå°‘éŒ¢ï¼Ÿè«‹èªªæ¸…æ¥šæ™‚é–“èˆ‡åœ°é»ã€‚', vi: 'Má»—i láº§n Ä‘áº¿n Viá»‡t Nam chá»“ng cho vá»£ bao nhiÃªu tiá»n? (NÃ³i rÃµ thá»i gian cho, Ä‘á»‹a Ä‘iá»ƒm).' },
    { id: 32, category: 'åŸºæœ¬è³‡æ–™', zh: 'è€å©†åœ¨å“ªå€‹çœï¼Ÿå¾æ©Ÿå ´åˆ°è€å©†å®¶è¦å¤šä¹…ï¼Ÿæ€éº¼å»ï¼Ÿ', vi: 'NhÃ  vá»£ á»Ÿ tá»‰nh nÃ o? Äi tá»« sÃ¢n bay vá» nhÃ  vá»£ máº¥t bao lÃ¢u? ThuÃª taxi hay Ä‘i xe khÃ¡ch?' },
    { id: 33, category: 'å®¶åº­èƒŒæ™¯', zh: 'è€å©†å®¶æœ‰å¹¾å±¤ï¼Ÿçˆ¶æ¯åšä»€éº¼å·¥ä½œï¼Ÿ', vi: 'NhÃ  vá»£ cÃ³ máº¥y táº§ng? Bá»‘ máº¹ vá»£ lÃ m nghá» gÃ¬?' },
    { id: 34, category: 'åŸºæœ¬è³‡æ–™', zh: 'å®¶è£¡æœ‰é›»è¦–ã€å†°ç®±ã€ç©ºèª¿å—ï¼Ÿ', vi: 'Trong nhÃ  vá»£ cÃ³ tivi, Ä‘iá»u hÃ²a, tá»§ láº¡nh khÃ´ng?' },
    { id: 35, category: 'å®¶åº­èƒŒæ™¯', zh: 'è€å©†çˆ¶æ¯å¹¾æ­²ï¼Ÿæœ‰å¹¾å€‹å…„å¼Ÿå§Šå¦¹ï¼Ÿ', vi: 'Bá»‘ máº¹ vá»£ bao nhiÃªu tuá»•i? Vá»£ cÃ³ máº¥y anh chá»‹ em?' },
    { id: 36, category: 'äº¤å¾€ç´°ç¯€', zh: 'è€å…¬ä½åœ¨è€å©†å®¶é‚„æ˜¯åœ¨æ—…é¤¨ï¼Ÿåœ¨è¶Šå—æœ€å–œæ­¡ä»€éº¼èœï¼Ÿ', vi: 'Chá»“ng cÃ³ ngá»§ láº¡i nhÃ  vá»£ khÃ´ng hay thuÃª khÃ¡ch sáº¡n? á» Viá»‡t Nam, vá»£/chá»“ng thÃ­ch nháº¥t mÃ³n gÃ¬?' },
    { id: 37, category: 'åŸºæœ¬è³‡æ–™', zh: 'ä½ è€å…¬/è€å©†å·²çµéå©šå—ï¼Ÿ', vi: 'Chá»“ng/vá»£ báº¡n Ä‘Ã£ káº¿t hÃ´n láº§n nÃ o chÆ°a?' },
    { id: 38, category: 'çµå©šå‹•æ©Ÿ', zh: 'ç‚ºä»€éº¼ä½ çŸ¥é“ä»–/å¥¹çµéå©šäº†é‚„äº¤å¾€ï¼Ÿä»¥å‰ç‚ºä»€éº¼é›¢å©šï¼Ÿ', vi: 'Táº¡i sao biáº¿t chá»“ng/vá»£ báº¡n Ä‘Ã£ káº¿t hÃ´n mÃ  váº«n nháº­n lá»i? VÃ¬ sao chá»“ng/vá»£ báº¡n láº¡i ly dá»‹?' },
    { id: 39, category: 'å®¶åº­èƒŒæ™¯', zh: 'ä½ è€å…¬/è€å©†ä»€éº¼æ™‚å€™é›¢å©šï¼Ÿæœ‰å¹¾å€‹å­©å­ï¼Ÿèª°é¤Šï¼Ÿ', vi: 'Chá»“ng/vá»£ báº¡n ly hÃ´n khi nÃ o? CÃ³ máº¥y con? Ai lÃ  ngÆ°á»i nuÃ´i con?' },
    { id: 40, category: 'å®¶åº­èƒŒæ™¯', zh: 'å­©å­å«ä»€éº¼åå­—ï¼Ÿå¹¾æ­²ï¼Ÿè·Ÿèª°ä½ï¼ŸçŸ¥é“ä½ çµå©šå—ï¼Ÿ', vi: 'TÃªn cÃ¡c con lÃ  gÃ¬? Bao nhiÃªu tuá»•i? á» vá»›i bá»‘ hay vá»›i máº¹? Con cÃ³ biáº¿t báº¡n Ä‘áº¿n Viá»‡t Nam káº¿t hÃ´n khÃ´ng?' },
    
    // 41-50: å·¥ä½œèˆ‡æœªä¾†è¦åŠƒ
    { id: 41, category: 'å®¶åº­èƒŒæ™¯', zh: 'ä½ çˆ¶æ¯çŸ¥é“ä½ çµå©šçš„äº‹å—ï¼Ÿä½ è€é—†çŸ¥é“å—ï¼Ÿè€é—†å«ä»€éº¼ï¼Ÿ', vi: 'Bá»‘ máº¹ báº¡n cÃ³ biáº¿t vá» viá»‡c káº¿t hÃ´n khÃ´ng? Ã”ng chá»§ nÆ¡i báº¡n lÃ m viá»‡c cÃ³ biáº¿t khÃ´ng? TÃªn Ã´ng chá»§ cá»§a báº¡n lÃ  gÃ¬?' },
    { id: 42, category: 'æ³•å¾‹ç›¸é—œ', zh: 'è€é—†é›»è©±æ˜¯å¤šå°‘ï¼Ÿå®¶åœ¨å“ªè£¡ï¼Ÿæˆ‘å¯ä»¥æ‰“é›»è©±å—ï¼Ÿ', vi: 'Sá»‘ Ä‘iá»‡n thoáº¡i cá»§a Ã´ng chá»§ lÃ  bao nhiÃªu? Äá»‹a chá»‰ nhÃ  á»Ÿ Ä‘Ã¢u? TÃ´i cÃ³ thá»ƒ gá»i Ä‘iá»‡n cho Ã´ng chá»§ báº¡n Ä‘Æ°á»£c khÃ´ng?' },
    { id: 43, category: 'æœªä¾†è¦åŠƒ', zh: 'è€å©†åœ¨å°ç£å®šå±…å¾Œæ‰“ç®—ä¸Šç­å·¥ä½œé‚„æ˜¯åœ¨å®¶ï¼Ÿè¦ä¸è¦å¸¶å°å­©å»ï¼Ÿ', vi: 'Khi Ä‘á»‹nh cÆ° á»Ÿ ÄÃ i Loan báº¡n dá»± Ä‘á»‹nh Ä‘á»ƒ vá»£ ra ngoÃ i lÃ m viá»‡c hay á»Ÿ nhÃ  chÄƒm sÃ³c gia Ä‘Ã¬nh? Káº¿t hÃ´n rá»“i cÃ³ muá»‘n Ä‘Ã³n con cá»§a vá»£ sang ÄÃ i Loan sá»‘ng cÃ¹ng khÃ´ng?' },
    { id: 44, category: 'èªè­˜ç¶“é', zh: 'ä»‹ç´¹äººæ˜¯èª°ï¼Ÿå§“åå¹´é½¡é›»è©±ï¼Ÿèˆ‡ä½ é—œä¿‚ï¼Ÿå…ˆçœ‹ç…§ç‰‡é‚„æ˜¯ç›´æ¥è¦‹é¢ï¼Ÿ', vi: 'Trong trÆ°á»ng há»£p cÃ³ ngÆ°á»i giá»›i thiá»‡u thÃ¬ nÃ³i vÃ  ghi rÃµ há» tÃªn - tuá»•i - sá»‘ Ä‘iá»‡n thoáº¡i - má»‘i quan há»‡ vá»›i ngÆ°á»i giá»›i thiá»‡u - táº¡i sao quen? Xem áº£nh trÆ°á»›c hay gáº·p máº·t trá»±c tiáº¿p?' },
    { id: 45, category: 'äº¤å¾€ç´°ç¯€', zh: 'ä½ æœƒèªªæ¼¢èªå—ï¼Ÿå­¸å¤šä¹…äº†ï¼Ÿç‚ºä»€éº¼å­¸ï¼Ÿè€å…¬æœ‰çµ¦å­¸è²»å—ï¼Ÿ', vi: 'Báº¡n biáº¿t nÃ³i tiáº¿ng Trung chÆ°a? Táº¡i sao há»c nÃ³i tiáº¿ng Trung? Chá»“ng cÃ³ cho báº¡n tiá»n Ä‘i há»c tiáº¿ng Trung khÃ´ng? Báº¡n há»c tiáº¿ng Trung bao lÃ¢u rá»“i?' },
    { id: 46, category: 'å®¶åº­èƒŒæ™¯', zh: 'é…å¶çˆ¶æ¯çš„ç”Ÿæ—¥æˆ–é‡è¦ç¯€æ—¥ï¼Œä½ å€‘é€šå¸¸å¦‚ä½•æ…¶ç¥ï¼Ÿ', vi: 'VÃ o ngÃ y sinh nháº­t cá»§a bá»‘ máº¹ chá»“ng/vá»£ hoáº·c cÃ¡c dá»‹p lá»… quan trá»ng, hai báº¡n thÆ°á»ng chÃºc má»«ng nhÆ° tháº¿ nÃ o?' },
    { id: 47, category: 'å®¶åº­èƒŒæ™¯', zh: 'å¦‚æœé…å¶å®¶äººç”Ÿç—…æˆ–éœ€è¦å¹«åŠ©ï¼Œä½ å€‘ç›®å‰çš„å…±è­˜æ˜¯ä»€éº¼ï¼Ÿ', vi: 'Náº¿u ngÆ°á»i thÃ¢n cá»§a chá»“ng/vá»£ bá»‹ á»‘m hoáº·c cáº§n giÃºp Ä‘á»¡, sá»± Ä‘á»“ng thuáº­n hiá»‡n táº¡i cá»§a hai báº¡n lÃ  gÃ¬?' },
    { id: 48, category: 'å®¶åº­èƒŒæ™¯', zh: 'é…å¶çš„å®¶åº­ä¸­ï¼Œæœ‰æ²’æœ‰è®“ä½ å°è±¡æœ€æ·±åˆ»çš„ä¸€å€‹æ•…äº‹æˆ–å‚³çµ±ï¼Ÿ', vi: 'Trong gia Ä‘Ã¬nh cá»§a chá»“ng/vá»£ báº¡n, cÃ³ cÃ¢u chuyá»‡n hay truyá»n thá»‘ng nÃ o khiáº¿n báº¡n áº¥n tÆ°á»£ng nháº¥t khÃ´ng?' },
    { id: 49, category: 'æ–‡åŒ–å·®ç•°', zh: 'å°è¶Šæ–‡åŒ–å·®ç•°ä¸­ï¼Œä½ å€‘è¦ºå¾—æœ€å¤§çš„æ˜¯ä»€éº¼ï¼Ÿå¦‚ä½•é©æ‡‰ï¼Ÿ', vi: 'Trong sá»± khÃ¡c biá»‡t vÄƒn hÃ³a ÄÃ i-Viá»‡t, Ä‘iá»u gÃ¬ hai báº¡n cáº£m tháº¥y lá»›n nháº¥t? LÃ m tháº¿ nÃ o Ä‘á»ƒ thÃ­ch nghi?' },
    { id: 50, category: 'æœªä¾†è¦åŠƒ', zh: 'çµå©šå¾Œï¼Œä½ å€‘å°æœªä¾†çš„ç”Ÿæ´»æœ‰ä»€éº¼å…·é«”è¦åŠƒï¼Ÿ', vi: 'Sau khi káº¿t hÃ´n, hai báº¡n cÃ³ káº¿ hoáº¡ch cá»¥ thá»ƒ gÃ¬ cho cuá»™c sá»‘ng tÆ°Æ¡ng lai?' }
];
        
        // ==================== æ ¸å¿ƒå‡½æ•¸ ====================
        
        // è¨­ç½®èªè¨€
        function setLanguage(lang) {
            currentLang = lang;
            
            // æ›´æ–°èªè¨€æŒ‰éˆ•
            document.querySelectorAll('.lang-tab').forEach(tab => {
                tab.classList.remove('active');
                if ((lang === 'zh' && tab.textContent === 'ä¸­æ–‡') || 
                    (lang === 'vi' && tab.textContent === 'Tiáº¿ng Viá»‡t')) {
                    tab.classList.add('active');
                }
            });
            
            // æ›´æ–°æ–‡å­—
            updateAllText();
            
            // å¦‚æœæ­£åœ¨é¢è«‡ä¸­ï¼Œé‡æ–°è¼‰å…¥å•é¡Œ
            if (currentRole) {
                loadQuestion(currentQIndex);
            }
        }
        
        // æ›´æ–°æ‰€æœ‰æ–‡å­—
        function updateAllText() {
            const t = translations[currentLang];
            
            // æ¨™é¡Œ
            document.getElementById('app-title').textContent = t.appTitle;
            document.getElementById('role-title').textContent = t.roleTitle;
            
            // è§’è‰²å¡ç‰‡
            document.getElementById('groom-title').textContent = t.groomTitle;
            document.getElementById('groom-desc').textContent = t.groomDesc;
            document.getElementById('bride-title').textContent = t.brideTitle;
            document.getElementById('bride-desc').textContent = t.brideDesc;
            
            // é€²åº¦è³‡è¨Š
            document.getElementById('progress-info').textContent = t.progressInfo;
            
            // åº•éƒ¨é¸å–®
            document.getElementById('menu-list').textContent = t.menuList;
            document.getElementById('menu-export').textContent = t.menuExport;
            document.getElementById('menu-settings').textContent = t.menuSettings;
            document.getElementById('menu-role').textContent = t.menuRole;
        }
        
        // é¸æ“‡è§’è‰²
        function selectRole(role) {
            currentRole = role;
            
            // æ›´æ–°å¡ç‰‡é¸ä¸­ç‹€æ…‹
            document.querySelectorAll('.role-card').forEach(card => {
                card.classList.remove('selected');
            });
            event.currentTarget.classList.add('selected');
            
            // åˆ‡æ›åˆ°é¢è«‡ç•Œé¢
            document.getElementById('role-screen').classList.add('hidden');
            document.getElementById('interview-screen').classList.remove('hidden');
            document.getElementById('bottom-menu').classList.remove('hidden');
            
            // è¼‰å…¥ç¬¬ä¸€å€‹å•é¡Œ
            loadQuestion(0);
            
            // å˜—è©¦è¼‰å…¥ä¹‹å‰ä¿å­˜çš„ç­”æ¡ˆ
            loadSavedData();
        }
        
        // è¼‰å…¥å•é¡Œ
        function loadQuestion(index) {
            currentQIndex = index;
            const question = questionData[index];
            const t = translations[currentLang];
            const totalQuestions = questionData.length;
            const progressPercent = Math.round(((index + 1) / totalQuestions) * 100);
            
            // è¨ˆç®—å·²å›ç­”æ•¸é‡
            const answeredCount = Object.keys(answers).length;
            
            // å»ºç«‹å•é¡Œå…§å®¹
            document.getElementById('interview-content').innerHTML = `
                <div class="progress-section">
                    <div class="progress-info">
                        <span class="progress-text">${t.question} ${index + 1} ${t.of} ${totalQuestions}</span>
                        <span class="progress-percent">${t.progress}: ${progressPercent}% (${answeredCount}/${totalQuestions})</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: ${progressPercent}%"></div>
                    </div>
                </div>
                
                <div class="question-card">
                    <div class="question-header">
                        <div style="flex: 1;">
                            <span class="question-category">${question.category}</span>
                            <div class="question-text">${currentLang === 'zh' ? question.zh : question.vi}</div>
                        </div>
                        ${question.hint ? `<button class="hint-btn" onclick="toggleHint()">?</button>` : ''}
                    </div>
                    
                    ${question.hint ? `
                    <div class="hint-box" id="hint-box">
                        <strong>${t.hint}:</strong>
                        <p style="margin-top: 8px;">${currentLang === 'zh' ? question.hint.zh : question.hint.vi}</p>
                    </div>
                    ` : ''}
                </div>
                
                <div class="answers-grid">
                    <!-- ç”·æ–¹å›ç­” -->
                    <div class="answer-box male">
                        <div class="answer-header">
                            <div class="answer-icon">â™‚</div>
                            <div class="answer-title">${t.maleAnswer}</div>
                        </div>
                        <textarea 
                            class="answer-textarea" 
                            id="male-answer"
                            placeholder="${t.malePlaceholder}"
                            oninput="saveAnswer(${question.id}, 'male', this.value)"
                            style="border-color: #3b82f6;"
                        >${answers[question.id]?.male || ''}</textarea>
                        <div class="answer-status">
                            <span class="save-indicator" id="male-save-status">
                                ${answers[question.id]?.male ? 'âœ… ' + t.saveIndicator : ''}
                            </span>
                            <span style="color: ${currentRole === 'groom' ? '#1e40af' : '#9ca3af'};">
                                ${currentRole === 'groom' ? 'ğŸ‘ˆ è«‹å¡«å¯«' : ''}
                            </span>
                        </div>
                    </div>
                    
                    <!-- å¥³æ–¹å›ç­” -->
                    <div class="answer-box female">
                        <div class="answer-header">
                            <div class="answer-icon">â™€</div>
                            <div class="answer-title">${t.femaleAnswer}</div>
                        </div>
                        <textarea 
                            class="answer-textarea" 
                            id="female-answer"
                            placeholder="${t.femalePlaceholder}"
                            oninput="saveAnswer(${question.id}, 'female', this.value)"
                            style="border-color: #ec4899;"
                        >${answers[question.id]?.female || ''}</textarea>
                        <div class="answer-status">
                            <span class="save-indicator" id="female-save-status">
                                ${answers[question.id]?.female ? 'âœ… ' + t.saveIndicator : ''}
                            </span>
                            <span style="color: ${currentRole === 'bride' ? '#be185d' : '#9ca3af'};">
                                ${currentRole === 'bride' ? 'ğŸ‘ˆ è«‹å¡«å¯«' : ''}
                            </span>
                        </div>
                    </div>
                </div>
                
                <div class="nav-buttons">
                    <button class="nav-btn prev" onclick="prevQuestion()" ${index === 0 ? 'disabled' : ''}>
                        â† ${t.prevBtn}
                    </button>
                    <button class="nav-btn next" onclick="nextQuestion()">
                        ${t.nextBtn} â†’
                    </button>
                </div>
                
                <!-- å•é¡Œåˆ—è¡¨ç¸®åœ– -->
                <div style="margin-top: 30px;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                        <h3 style="font-size: 16px; color: #4b5563;">${t.question} ${t.progress}</h3>
                        <button onclick="showFullQuestionList()" style="background: none; border: none; color: #4f46e5; font-size: 14px; cursor: pointer;">
                            ğŸ“‹ ${t.menuList}
                        </button>
                    </div>
                    <div class="question-list">
                        ${questionData.map((q, i) => `
                            <button class="q-number ${i === index ? 'current' : ''} ${answers[q.id]?.male && answers[q.id]?.female ? 'answered' : ''}" 
                                    onclick="loadQuestion(${i})">
                                ${i + 1}
                            </button>
                        `).join('')}
                    </div>
                </div>
            `;
            
            // æ»¾å‹•åˆ°é ‚éƒ¨
            window.scrollTo(0, 0);
        }
        
        // åˆ‡æ›æç¤ºé¡¯ç¤º
        function toggleHint() {
            const hintBox = document.getElementById('hint-box');
            if (hintBox) {
                hintBox.classList.toggle('show');
            }
        }
        
        // ä¿å­˜ç­”æ¡ˆ
        function saveAnswer(qId, side, value) {
            if (!answers[qId]) {
                answers[qId] = {};
            }
            
            answers[qId][side] = value;
            
            // é¡¯ç¤ºä¿å­˜ç‹€æ…‹
            const statusEl = document.getElementById(`${side}-save-status`);
            if (statusEl) {
                const t = translations[currentLang];
                statusEl.textContent = 'âœ… ' + t.saveIndicator;
                statusEl.style.opacity = '1';
                
                // 3ç§’å¾Œæ·¡å‡º
                setTimeout(() => {
                    statusEl.style.opacity = '0.7';
                }, 2000);
            }
            
            // ä¿å­˜åˆ°æœ¬åœ°å„²å­˜
            saveToLocalStorage();
            
            // æ›´æ–°å•é¡Œåˆ—è¡¨é¡¯ç¤º
            updateQuestionList();
        }
        
        // ä¸‹ä¸€é¡Œ
        function nextQuestion() {
            if (currentQIndex < questionData.length - 1) {
                loadQuestion(currentQIndex + 1);
            } else {
                const t = translations[currentLang];
                alert(currentLang === 'zh' ? 'ğŸ‰ å·²å®Œæˆæ‰€æœ‰å•é¡Œï¼' : 'ğŸ‰ ÄÃ£ hoÃ n thÃ nh táº¥t cáº£ cÃ¢u há»i!');
            }
        }
        
        // ä¸Šä¸€é¡Œ
        function prevQuestion() {
            if (currentQIndex > 0) {
                loadQuestion(currentQIndex - 1);
            }
        }
        
        // é¡¯ç¤ºå®Œæ•´å•é¡Œåˆ—è¡¨
        function showFullQuestionList() {
            const t = translations[currentLang];
            let listHTML = `
                <div style="background: white; border-radius: 16px; padding: 20px; margin-top: 20px;">
                    <h2 style="margin-bottom: 20px; color: #1f2937;">${t.question} ${t.progress}</h2>
                    <div style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 10px;">
            `;
            
            questionData.forEach((q, i) => {
                const isAnswered = answers[q.id]?.male && answers[q.id]?.female;
                listHTML += `
                    <button onclick="loadQuestion(${i}); closeModal()" 
                            style="padding: 12px; border-radius: 10px; border: 2px solid ${isAnswered ? '#10b981' : '#e5e7eb'}; 
                                   background: ${i === currentQIndex ? '#4f46e5' : (isAnswered ? '#10b981' : 'white')}; 
                                   color: ${i === currentQIndex ? 'white' : (isAnswered ? 'white' : '#6b7280')}; 
                                   font-weight: bold; cursor: pointer;">
                        ${i + 1}
                    </button>
                `;
            });
            
            listHTML += `
                    </div>
                    <div style="margin-top: 20px; display: flex; gap: 10px;">
                        <div style="display: flex; align-items: center; gap: 5px;">
                            <div style="width: 20px; height: 20px; background: #4f46e5; border-radius: 4px;"></div>
                            <span style="font-size: 14px;">${currentLang === 'zh' ? 'ç•¶å‰å•é¡Œ' : 'CÃ¢u hiá»‡n táº¡i'}</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 5px;">
                            <div style="width: 20px; height: 20px; background: #10b981; border-radius: 4px;"></div>
                            <span style="font-size: 14px;">${currentLang === 'zh' ? 'å·²å›ç­”' : 'ÄÃ£ tráº£ lá»i'}</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 5px;">
                            <div style="width: 20px; height: 20px; background: white; border: 2px solid #e5e7eb; border-radius: 4px;"></div>
                            <span style="font-size: 14px;">${currentLang === 'zh' ? 'æœªå›ç­”' : 'ChÆ°a tráº£ lá»i'}</span>
                        </div>
                    </div>
                    <button onclick="closeModal()" style="margin-top: 20px; padding: 12px 24px; background: #4f46e5; color: white; border: none; border-radius: 10px; width: 100%; font-weight: bold; cursor: pointer;">
                        ${currentLang === 'zh' ? 'é—œé–‰' : 'ÄÃ³ng'}
                    </button>
                </div>
            `;
            
            showModal(listHTML);
        }
        
        // æ›´æ–°å•é¡Œåˆ—è¡¨
        function updateQuestionList() {
            // æ›´æ–°åº•éƒ¨å•é¡Œåˆ—è¡¨çš„é¡¯ç¤º
            document.querySelectorAll('.q-number').forEach((btn, i) => {
                const qId = questionData[i].id;
                const isAnswered = answers[qId]?.male && answers[qId]?.female;
                
                btn.className = 'q-number';
                if (i === currentQIndex) {
                    btn.classList.add('current');
                }
                if (isAnswered) {
                    btn.classList.add('answered');
                }
            });
        }
        
        // é¡¯ç¤ºæ¨¡æ…‹æ¡†
        function showModal(content) {
            const modal = document.createElement('div');
            modal.id = 'custom-modal';
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: rgba(0,0,0,0.5);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 1000;
                padding: 20px;
            `;
            
            modal.innerHTML = `
                <div style="background: white; border-radius: 20px; max-width: 500px; width: 100%; max-height: 80vh; overflow-y: auto;">
                    ${content}
                </div>
            `;
            
            modal.onclick = function(e) {
                if (e.target === modal) {
                    closeModal();
                }
            };
            
            document.body.appendChild(modal);
        }
        
        // é—œé–‰æ¨¡æ…‹æ¡†
        function closeModal() {
            const modal = document.getElementById('custom-modal');
            if (modal) {
                modal.remove();
            }
        }
        
        // åŒ¯å‡ºè³‡æ–™
        function exportData() {
            const t = translations[currentLang];
            
            if (Object.keys(answers).length === 0) {
                alert(t.exportError);
                return;
            }
            
            let exportText = `=== ${currentLang === 'zh' ? 'å°è¶Šçµå©šé¢è«‡æº–å‚™ç´€éŒ„' : 'Báº£n ghi chuáº©n bá»‹ phá»ng váº¥n káº¿t hÃ´n ÄÃ i-Viá»‡t'} ===\n`;
            exportText += `${currentLang === 'zh' ? 'åŒ¯å‡ºæ™‚é–“' : 'Thá»i gian xuáº¥t'}: ${new Date().toLocaleString()}\n`;
            exportText += `${currentLang === 'zh' ? 'è§’è‰²' : 'Vai trÃ²'}: ${currentRole === 'groom' ? (currentLang === 'zh' ? 'æ–°éƒ' : 'ChÃº rá»ƒ') : (currentLang === 'zh' ? 'æ–°å¨˜' : 'CÃ´ dÃ¢u')}\n\n`;
            
            questionData.forEach(q => {
                if (answers[q.id]) {
                    exportText += `${q.id}. ${currentLang === 'zh' ? q.zh : q.vi}\n`;
                    if (answers[q.id].male) {
                        exportText += `   ${currentLang === 'zh' ? 'ç”·æ–¹' : 'Nam'}: ${answers[q.id].male}\n`;
                    }
                    if (answers[q.id].female) {
                        exportText += `   ${currentLang === 'zh' ? 'å¥³æ–¹' : 'Ná»¯'}: ${answers[q.id].female}\n`;
                    }
                    exportText += '\n';
                }
            });
            
            // è¤‡è£½åˆ°å‰ªè²¼ç°¿
            navigator.clipboard.writeText(exportText).then(() => {
                alert(t.exportSuccess);
            }).catch(err => {
                // å¦‚æœè¤‡è£½å¤±æ•—ï¼Œé¡¯ç¤ºæ–‡å­—è®“ä½¿ç”¨è€…æ‰‹å‹•è¤‡è£½
                showModal(`
                    <div style="padding: 20px;">
                        <h3 style="margin-bottom: 15px;">${t.exportSuccess}</h3>
                        <textarea style="width: 100%; height: 300px; padding: 10px; border: 1px solid #ddd; border-radius: 8px; font-family: monospace;">${exportText}</textarea>
                        <button onclick="closeModal()" style="margin-top: 15px; padding: 12px 24px; background: #4f46e5; color: white; border: none; border-radius: 10px; width: 100%; font-weight: bold; cursor: pointer;">
                            ${currentLang === 'zh' ? 'é—œé–‰' : 'ÄÃ³ng'}
                        </button>
                    </div>
                `);
            });
        }
        
        // é¡¯ç¤ºè¨­å®š
        function showSettings() {
            const t = translations[currentLang];
            const answeredCount = Object.keys(answers).length;
            const totalCount = questionData.length;
            
            showModal(`
                <div style="padding: 20px;">
                    <h2 style="margin-bottom: 20px; color: #1f2937;">${currentLang === 'zh' ? 'è¨­å®š' : 'CÃ i Ä‘áº·t'}</h2>
                    
                    <div style="background: #f3f4f6; padding: 15px; border-radius: 10px; margin-bottom: 20px;">
                        <h3 style="margin-bottom: 10px;">${currentLang === 'zh' ? 'é€²åº¦çµ±è¨ˆ' : 'Thá»‘ng kÃª tiáº¿n Ä‘á»™'}</h3>
                        <div style="display: flex; justify-content: space-between;">
                            <span>${currentLang === 'zh' ? 'å·²å›ç­”' : 'ÄÃ£ tráº£ lá»i'}:</span>
                            <strong>${answeredCount}/${totalCount} (${Math.round((answeredCount/totalCount)*100)}%)</strong>
                        </div>
                        <div style="height: 10px; background: #e5e7eb; border-radius: 5px; margin-top: 10px; overflow: hidden;">
                            <div style="height: 100%; background: #10b981; width: ${(answeredCount/totalCount)*100}%"></div>
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 20px;">
                        <h3 style="margin-bottom: 10px;">${currentLang === 'zh' ? 'è³‡æ–™ç®¡ç†' : 'Quáº£n lÃ½ dá»¯ liá»‡u'}</h3>
                        <button onclick="exportData(); closeModal();" style="width: 100%; padding: 12px; background: #4f46e5; color: white; border: none; border-radius: 8px; margin-bottom: 10px; cursor: pointer;">
                            ğŸ“¥ ${currentLang === 'zh' ? 'åŒ¯å‡ºæ‰€æœ‰ç­”æ¡ˆ' : 'Xuáº¥t táº¥t cáº£ cÃ¢u tráº£ lá»i'}
                        </button>
                        <button onclick="resetData()" style="width: 100%; padding: 12px; background: #ef4444; color: white; border: none; border-radius: 8px; cursor: pointer;">
                            ğŸ—‘ï¸ ${currentLang === 'zh' ? 'é‡ç½®æ‰€æœ‰ç­”æ¡ˆ' : 'Äáº·t láº¡i táº¥t cáº£ cÃ¢u tráº£ lá»i'}
                        </button>
                    </div>
                    
                    <button onclick="closeModal()" style="width: 100%; padding: 12px; background: #6b7280; color: white; border: none; border-radius: 8px; cursor: pointer;">
                        ${currentLang === 'zh' ? 'é—œé–‰è¨­å®š' : 'ÄÃ³ng cÃ i Ä‘áº·t'}
                    </button>
                </div>
            `);
        }
        
        // é‡ç½®è³‡æ–™
        function resetData() {
            const t = translations[currentLang];
            if (confirm(t.resetConfirm)) {
                answers = {};
                localStorage.removeItem('marriage_interview_data');
                loadQuestion(currentQIndex);
                closeModal();
            }
        }
        
        // è¿”å›è§’è‰²é¸æ“‡
        function backToRole() {
            document.getElementById('interview-screen').classList.add('hidden');
            document.getElementById('bottom-menu').classList.add('hidden');
            document.getElementById('role-screen').classList.remove('hidden');
            document.querySelectorAll('.role-card').forEach(card => {
                card.classList.remove('selected');
            });
            currentRole = null;
        }
        
        // ä¿å­˜åˆ°æœ¬åœ°å„²å­˜
        function saveToLocalStorage() {
            const data = {
                answers: answers,
                role: currentRole,
                language: currentLang,
                lastQuestion: currentQIndex,
                lastSave: new Date().toISOString()
            };
            localStorage.setItem('marriage_interview_data', JSON.stringify(data));
        }
        
        // å¾æœ¬åœ°å„²å­˜è¼‰å…¥
        function loadSavedData() {
            try {
                const saved = localStorage.getItem('marriage_interview_data');
                if (saved) {
                    const data = JSON.parse(saved);
                    answers = data.answers || {};
                    
                    if (data.language && data.language !== currentLang) {
                        setLanguage(data.language);
                    }
                    
                    if (data.lastQuestion !== undefined) {
                        currentQIndex = data.lastQuestion;
                    }
                    
                    console.log(`${currentLang === 'zh' ? 'å·²è¼‰å…¥ä¹‹å‰é€²åº¦' : 'ÄÃ£ táº£i tiáº¿n trÃ¬nh trÆ°á»›c'}`);
                }
            } catch (e) {
                console.log(`${currentLang === 'zh' ? 'ç„¡æ³•è¼‰å…¥å„²å­˜è³‡æ–™' : 'KhÃ´ng thá»ƒ táº£i dá»¯ liá»‡u Ä‘Ã£ lÆ°u'}`);
            }
        }
        
        // é¡¯ç¤ºå•é¡Œåˆ—è¡¨ï¼ˆåº•éƒ¨é¸å–®ï¼‰
        function showQuestionList() {
            showFullQuestionList();
        }
        
        // åˆå§‹åŒ–
        window.onload = function() {
            // è¨­å®šåˆå§‹èªè¨€
            updateAllText();
            
            // è¨­å®šå•é¡Œè³‡æ–™
            allQuestions = questionData;
            
            // æª¢æŸ¥æ˜¯å¦æœ‰ä¿å­˜çš„è³‡æ–™
            setTimeout(() => {
                const saved = localStorage.getItem('marriage_interview_data');
                if (saved) {
                    try {
                        const data = JSON.parse(saved);
                        if (data.role && confirm(currentLang === 'zh' ? 
                            'ç™¼ç¾ä¹‹å‰çš„é¢è«‡é€²åº¦ï¼Œæ˜¯å¦ç¹¼çºŒï¼Ÿ' : 
                            'PhÃ¡t hiá»‡n tiáº¿n trÃ¬nh phá»ng váº¥n trÆ°á»›c, cÃ³ tiáº¿p tá»¥c khÃ´ng?')) {
                            
                            // è‡ªå‹•è¼‰å…¥ä¹‹å‰çš„é€²åº¦
                            currentRole = data.role;
                            currentLang = data.language || 'zh';
                            answers = data.answers || {};
                            
                            // æ›´æ–°èªè¨€é¡¯ç¤º
                            setLanguage(currentLang);
                            
                            // åˆ‡æ›åˆ°é¢è«‡ç•Œé¢
                            document.getElementById('role-screen').classList.add('hidden');
                            document.getElementById('interview-screen').classList.remove('hidden');
                            document.getElementById('bottom-menu').classList.remove('hidden');
                            
                            // è¼‰å…¥æœ€å¾Œçš„å•é¡Œ
                            loadQuestion(data.lastQuestion || 0);
                            
                            // é¸ä¸­å°æ‡‰çš„è§’è‰²å¡ç‰‡
                            document.querySelectorAll('.role-card').forEach(card => {
                                const isGroom = card.querySelector('.role-icon').textContent === 'â™‚';
                                if ((isGroom && currentRole === 'groom') || (!isGroom && currentRole === 'bride')) {
                                    card.classList.add('selected');
                                }
                            });
                        }
                    } catch (e) {
                        console.log('ç„¡æ³•è¼‰å…¥ä¿å­˜çš„è³‡æ–™');
                    }
                }
            }, 500);
        };
        
        // æ·»åŠ è‡ªå‹•ä¿å­˜åŠŸèƒ½
        setInterval(() => {
            if (currentRole && Object.keys(answers).length > 0) {
                saveToLocalStorage();
            }
        }, 30000); // æ¯30ç§’è‡ªå‹•ä¿å­˜
    </script>
</body>
</html>
